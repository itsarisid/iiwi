[09:50:19] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[09:50:21] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (559ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[09:50:21] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[09:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1,293ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[09:50:23] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (423ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[09:50:23] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[09:50:23] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[09:50:26] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (2,730ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[09:50:26] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[09:50:26] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (531ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[09:50:29] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[09:50:29] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[09:50:29] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[09:50:29] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[09:50:29] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[09:55:40] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[09:55:40] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[09:55:41] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[09:55:41] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[09:55:41] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 733.4298ms

[09:55:41] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/Account/Login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[09:55:41] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[09:55:41] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[09:55:41] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/Account/Login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 404 0 null 83.8528ms

[09:55:41] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/Account/Login, Response status code: 404

[09:55:50] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - application/json 103

[09:55:50] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[09:55:50] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(iiwi.Application.Authentication.LoginRequest) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[09:55:52] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (842ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0

[09:55:52] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (253ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClaimType], [c].[ClaimValue], [c].[UserId]
FROM [Identity].[Claims] AS [c]
WHERE [c].[UserId] = @__user_Id_0

[09:55:52] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (155ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[09:55:53] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed in.

[09:55:53] [INFORMATION] [iiwi.Domain.Identity.ApplicationUser] User logged in.

[09:55:53] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[09:55:53] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 2622.961ms

[09:55:53] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[09:55:53] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - 200 null application/json; charset=utf-8 2752.0388ms

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 3.7906ms

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/Account/Login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/Account/Login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 404 0 null 1.517ms

[09:56:05] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/Account/Login, Response status code: 404

[09:58:01] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[09:58:56] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[09:58:56] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[09:58:56] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[09:58:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[09:58:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[09:58:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[09:58:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[09:58:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[09:58:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[09:58:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[09:58:57] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[09:58:57] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[09:58:57] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[09:58:57] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[09:58:57] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:00:03] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 55.4917ms

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0//auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0//auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 404 0 null 39.5793ms

[10:00:03] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/api/v1.0//auth/login, Response status code: 404

[10:22:17] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[10:23:43] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[10:23:44] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:23:44] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[10:23:44] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[10:23:44] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[10:23:44] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:23:44] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[10:23:44] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[10:23:44] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[10:23:45] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[10:23:48] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[10:23:48] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[10:23:48] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[10:23:48] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[10:23:48] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[10:29:35] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:29:35] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[10:29:35] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:29:35] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:29:35] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 356.2899ms

[10:29:35] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:29:36] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:29:36] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '405 HTTP Method Not Supported'

[10:29:36] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '405 HTTP Method Not Supported'

[10:29:36] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:29:36] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 405 0 null 110.1793ms

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 33.0784ms

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '405 HTTP Method Not Supported'

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '405 HTTP Method Not Supported'

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:29:59] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 405 0 null 3.0366ms

[10:30:25] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/logout?version=1.0 - null 0

[10:30:25] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Logout (iiwi.AppWire)'

[10:30:25] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:30:25] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed out.

[10:30:25] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.External signed out.

[10:30:25] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.TwoFactorUserId signed out.

[10:30:26] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[10:30:26] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Logout (iiwi.AppWire) in 228.6308ms

[10:30:26] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Logout (iiwi.AppWire)'

[10:30:26] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/logout?version=1.0 - 200 null application/json; charset=utf-8 352.4284ms

[10:30:41] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[10:40:23] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[10:40:23] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:40:23] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[10:40:23] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[10:40:24] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[10:40:24] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:40:24] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[10:40:24] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[10:40:24] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[10:40:24] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[10:40:24] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[10:40:24] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[10:40:24] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[10:40:24] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[10:40:24] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/logout?version=1.0 - null 0

[10:40:29] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Logout (iiwi.AppWire)'

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed out.

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.External signed out.

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.TwoFactorUserId signed out.

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Logout (iiwi.AppWire) in 38.2878ms

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Logout (iiwi.AppWire)'

[10:40:29] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/logout?version=1.0 - 200 null application/json; charset=utf-8 137.4663ms

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 10.4912ms

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:40:44] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.

[10:40:45] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 670.5929ms

[10:40:45] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:40:45] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:40:45] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 400 null application/problem+json; charset=utf-8 755.3674ms

[10:45:56] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[10:46:26] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[10:46:26] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:46:26] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[10:46:27] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (387ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[10:46:27] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[10:46:27] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:46:27] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[10:46:27] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[10:46:27] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[10:46:27] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[10:46:27] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[10:46:27] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[10:46:27] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[10:46:27] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[10:46:27] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[10:46:32] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:46:32] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[10:46:32] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:46:32] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:46:32] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 47.9694ms

[10:46:32] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:46:33] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:46:33] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:46:33] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:46:33] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type 'System.String'.

[10:46:33] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 29.3025ms

[10:46:33] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:46:33] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:46:33] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 200 null text/plain; charset=utf-8 53.2055ms

[10:47:46] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[10:48:33] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[10:48:33] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:48:33] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[10:48:35] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (2,172ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[10:48:36] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (154ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[10:48:36] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:48:36] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[10:48:36] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (480ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[10:48:36] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[10:48:37] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (886ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[10:48:37] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[10:48:37] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[10:48:37] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[10:48:37] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[10:48:37] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:48:42] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 48.7542ms

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing UnauthorizedObjectResult, writing value of type 'System.String'.

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 22.2869ms

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:48:42] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 401 null text/plain; charset=utf-8 46.5269ms

[10:48:50] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - application/json 103

[10:48:50] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:48:50] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(iiwi.Application.Authentication.LoginRequest) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:48:55] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3,037ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0

[10:48:56] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (390ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClaimType], [c].[ClaimValue], [c].[UserId]
FROM [Identity].[Claims] AS [c]
WHERE [c].[UserId] = @__user_Id_0

[10:48:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (300ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[10:48:57] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed in.

[10:48:57] [INFORMATION] [iiwi.Domain.Identity.ApplicationUser] User logged in.

[10:48:57] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[10:48:57] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 6307.3491ms

[10:48:57] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:48:57] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - 200 null application/json; charset=utf-8 6318.5211ms

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 4.6684ms

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing UnauthorizedObjectResult, writing value of type 'System.String'.

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 0.7041ms

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:49:04] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 401 null text/plain; charset=utf-8 3.0764ms

[10:49:12] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 642.2663ms

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing UnauthorizedObjectResult, writing value of type 'System.String'.

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 0.9015ms

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:49:13] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 401 null text/plain; charset=utf-8 4.6133ms

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 1.5042ms

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing UnauthorizedObjectResult, writing value of type 'System.String'.

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 0.4707ms

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:49:32] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 401 null text/plain; charset=utf-8 1.9285ms

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 1.028ms

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing UnauthorizedObjectResult, writing value of type 'System.String'.

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 0.3606ms

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:49:57] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 401 null text/plain; charset=utf-8 2.0117ms

[10:50:14] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[10:50:21] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (156ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[10:50:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[10:50:22] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[10:50:22] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[10:50:22] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[10:50:22] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[10:50:22] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:50:27] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 50.5373ms

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing UnauthorizedObjectResult, writing value of type 'System.String'.

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 15.4109ms

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:50:27] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 401 null text/plain; charset=utf-8 37.3663ms

[10:50:46] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - application/json 103

[10:50:46] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:50:46] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(iiwi.Application.Authentication.LoginRequest) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:50:46] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0

[10:50:47] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClaimType], [c].[ClaimValue], [c].[UserId]
FROM [Identity].[Claims] AS [c]
WHERE [c].[UserId] = @__user_Id_0

[10:50:47] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[10:50:47] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed in.

[10:50:47] [INFORMATION] [iiwi.Domain.Identity.ApplicationUser] User logged in.

[10:50:47] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[10:50:47] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 677.5195ms

[10:50:47] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:50:47] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - 200 null application/json; charset=utf-8 687.2605ms

[10:50:59] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - application/json 103

[10:50:59] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:50:59] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(iiwi.Application.Authentication.LoginRequest) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:50:59] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0

[10:50:59] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (31ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClaimType], [c].[ClaimValue], [c].[UserId]
FROM [Identity].[Claims] AS [c]
WHERE [c].[UserId] = @__user_Id_0

[10:50:59] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[10:50:59] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed in.

[10:50:59] [INFORMATION] [iiwi.Domain.Identity.ApplicationUser] User logged in.

[10:50:59] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[10:51:00] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 224.9454ms

[10:51:00] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:51:00] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - 200 null application/json; charset=utf-8 227.8035ms

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 3.7017ms

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing UnauthorizedObjectResult, writing value of type 'System.String'.

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 0.583ms

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:51:18] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 401 null text/plain; charset=utf-8 2.5957ms

[10:56:42] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[10:56:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[10:56:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:56:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[10:56:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (416ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[10:56:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[10:56:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[10:56:57] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[10:56:58] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[10:56:58] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[10:56:58] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[10:56:58] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[10:56:58] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[10:56:58] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[10:56:58] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[10:56:58] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[10:57:03] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:57:04] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 66.1071ms

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type 'System.String'.

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 24.6382ms

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:57:04] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 200 null text/plain; charset=utf-8 53.1618ms

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 4.1774ms

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type 'System.String'.

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 1.0123ms

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:57:12] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 200 null text/plain; charset=utf-8 4.6424ms

[10:57:17] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - application/json 103

[10:57:17] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:57:17] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(iiwi.Application.Authentication.LoginRequest) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:57:17] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (49ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0

[10:57:17] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClaimType], [c].[ClaimValue], [c].[UserId]
FROM [Identity].[Claims] AS [c]
WHERE [c].[UserId] = @__user_Id_0

[10:57:17] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[10:57:17] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed in.

[10:57:17] [INFORMATION] [iiwi.Domain.Identity.ApplicationUser] User logged in.

[10:57:17] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[10:57:17] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 571.1093ms

[10:57:17] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:57:17] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - 200 null application/json; charset=utf-8 578.5373ms

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 2.1841ms

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type 'System.String'.

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 0.3439ms

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:57:23] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 200 null text/plain; charset=utf-8 1.7197ms

[10:58:12] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - application/json 103

[10:58:12] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:58:12] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(iiwi.Application.Authentication.LoginRequest) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:58:12] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (54ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0

[10:58:12] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClaimType], [c].[ClaimValue], [c].[UserId]
FROM [Identity].[Claims] AS [c]
WHERE [c].[UserId] = @__user_Id_0

[10:58:12] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[10:58:12] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed in.

[10:58:12] [INFORMATION] [iiwi.Domain.Identity.ApplicationUser] User logged in.

[10:58:12] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[10:58:12] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 190.0959ms

[10:58:12] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:58:12] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - 200 null application/json; charset=utf-8 192.346ms

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Bearer was challenged.

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 302 0 null 1.0611ms

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - null null

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] No cached response available for this request.

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type 'System.String'.

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 0.3455ms

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware] The response could not be cached for this request.

[10:58:20] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5093/api/v1.0/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2FAccount%2Fupdate-profile%3Fversion%3D1.0 - 200 null text/plain; charset=utf-8 1.914ms

[11:12:22] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[11:13:50] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[11:13:51] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[11:13:51] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[11:13:52] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (462ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[11:13:52] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[11:13:52] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[11:13:52] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[11:13:53] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (364ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[11:13:53] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[11:13:53] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[11:13:55] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[11:13:55] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[11:13:55] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[11:13:55] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[11:13:55] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[11:16:51] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[11:16:51] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[11:16:52] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[11:16:52] [INFORMATION] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] AuthenticationScheme: Bearer was challenged.

[11:16:52] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 401 0 null 1051.7343ms

[11:17:45] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - application/json 103

[11:17:45] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[11:17:46] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(iiwi.Application.Authentication.LoginRequest) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[11:17:48] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (846ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0

[11:17:48] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (83ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClaimType], [c].[ClaimValue], [c].[UserId]
FROM [Identity].[Claims] AS [c]
WHERE [c].[UserId] = @__user_Id_0

[11:17:48] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[11:17:48] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed in.

[11:17:48] [INFORMATION] [iiwi.Domain.Identity.ApplicationUser] User logged in.

[11:17:48] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Response'.

[11:17:48] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 2623.9337ms

[11:17:48] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[11:17:48] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - 200 null application/json; charset=utf-8 2880.235ms

[11:18:03] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - application/json 238

[11:18:03] [INFORMATION] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.

[11:18:03] [INFORMATION] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] AuthenticationScheme: Bearer was challenged.

[11:18:03] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Account/update-profile?version=1.0 - 401 0 null 4.2897ms

[11:55:31] [INFORMATION] [Microsoft.Hosting.Lifetime] Application is shutting down...

[13:26:18] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were found in assembly 'iiwi.Database'. A migration needs to be added before the database can be updated.

[13:26:20] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[13:26:20] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.

[13:26:21] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (698ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result

[13:26:21] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;

[13:26:21] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1

[13:26:21] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');

[13:26:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1,025ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];

[13:26:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Migrations] No migrations were applied. The database is already up to date.

[13:26:22] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result

[13:26:27] [INFORMATION] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\moinc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.

[13:26:28] [INFORMATION] [Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5093

[13:26:28] [INFORMATION] [Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.

[13:26:28] [INFORMATION] [Microsoft.Hosting.Lifetime] Hosting environment: Development

[13:26:28] [INFORMATION] [Microsoft.Hosting.Lifetime] Content root path: C:\Users\moinc\source\repos\iiwi\iiwi.AppWire

[13:31:06] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - application/json 103

[13:31:06] [WARNING] [Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.

[13:31:07] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[13:31:07] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(iiwi.Application.Authentication.LoginRequest) on controller iiwi.AppWire.Controllers.AuthController (iiwi.AppWire).

[13:31:10] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (691ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0

[13:31:10] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClaimType], [c].[ClaimValue], [c].[UserId]
FROM [Identity].[Claims] AS [c]
WHERE [c].[UserId] = @__user_Id_0

[13:31:10] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[13:31:11] [INFORMATION] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: Identity.Application signed in.

[13:31:11] [INFORMATION] [iiwi.Domain.Identity.ApplicationUser] User logged in.

[13:31:11] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (198ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[ConcurrencyStamp], [u].[DOB], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[LastLogin], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Identity].[User] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0

[13:31:11] [INFORMATION] [Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [Identity].[Roles] AS [r]
INNER JOIN [Identity].[Role] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r].[UserId] = @__userId_0

[13:31:11] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'iiwi.Application.Authentication.LoginResponse'.

[13:31:11] [INFORMATION] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire) in 4052.3321ms

[13:31:11] [INFORMATION] [Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'iiwi.AppWire.Controllers.AuthController.Login (iiwi.AppWire)'

[13:31:11] [INFORMATION] [Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5093/api/v1.0/Auth/login?version=1.0 - 200 null application/json; charset=utf-8 5231.0194ms

